<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Prueba Web Chat CXone</title>
<script>
(function(n,u){
window.CXoneDfo=n,
window[n]=window[n]||function(){(window[n].q=window[n].q||[]).push(arguments)},window[n].u=u,
e=document.createElement("script"),e.type="module",e.src=u+"?"+Math.round(Date.now()/1e3/3600),
document.head.appendChild(e)
})('cxone','https://web-modules-de-na1.niceincontact.com/loader/1/loader.js');
cxone('init', '5780');
cxone('guide','init', { templateId: 'f50687d0-c50e-4750-8cf9-38b87a703db0' });
</script>
<style>
  #cxone-guide-container > div > div > div.entrypoint.svelte-mffmc3.simpleMode.useBiggerImage > button > div > img {
    width: 100px !important;
    height: 100px !important;
    border-radius: 50% !important;
    margin: -72px !important;
    margin-bottom: 24px !important;
  }
</style>
</head>
<body>
<h1>Prueba Web Chat CXone</h1>

<script>
console.log("üîç Esperando que el usuario abra el chat...");

// Observar cambios en TODO el documento para detectar cuando se abre el chat
const observer = new MutationObserver(function(mutations) {
  
  // Buscar el elemento del nombre cada vez que hay un cambio
  const elemento = document.querySelector("[class*='UserProfile_Name']");
  
  if (elemento && elemento.textContent.trim() !== "Agente Vnet") {
    console.log("‚úÖ ¬°Chat abierto! Elemento encontrado");
    console.log("üìù Texto original:", elemento.textContent);
    console.log("üè∑Ô∏è Clase del elemento:", elemento.className);
    
    elemento.textContent = "Agente Vnet";
    
    console.log("‚ú® Texto cambiado a:", elemento.textContent);
    
    // NO desconectar el observer para que siga funcionando si se cierra y abre el chat
    // observer.disconnect();
  }
});

// Observar cambios en todo el body
observer.observe(document.body, {
  childList: true,
  subtree: true,
  attributes: true,
  characterData: true
});

console.log("üëÄ Observer activo - esperando que se abra el chat...");
console.log("üí° Abre el chat haciendo clic en el bot√≥n flotante");

// Verificaci√≥n adicional cada segundo
setInterval(function() {
  const elemento = document.querySelector("[class*='UserProfile_Name']");
  if (elemento && elemento.textContent.trim() !== "Agente Vnet") {
    console.log("üîÑ Corrigiendo nombre...");
    elemento.textContent = "Agente Vnet";
  }
}, 1000);
</script>

</body>
</html>